<!-- product view -->
<div class="product_view_wrap section_padding_b">
  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <div class="product_view_slider">
          <div class="single_viewslider">
            @if (product) {
            <app-carousel [product]="product"></app-carousel>
            }
          </div>
          <!--
                    @for (image of product?.images; track $index) {
                    <div class="single_viewslider">
                        <img loading="lazy" src="{{url_base + image}}" alt="product">
                    </div>
                    }
                    -->
        </div>
        <!--
                <div class="product_viewslid_nav">
                    @for (image of product?.images; track $index) {
                    <div class="single_viewslid_nav">
                        <img loading="lazy" src="{{url_base + image}}" alt="product">
                    </div>
                    }
                </div>
            -->
      </div>
      <div class="col-lg-6">
        <div class="product_info_wrapper">
          <div class="product_base_info">
            <h1>{{ product?.full_name }}</h1>
            <div class="rating">
              <div class="d-flex align-items-center">
                <!--
                <div class="rating_star">
                  <span><i class="las la-star"></i></span>
                  <span><i class="las la-star"></i></span>
                  <span><i class="las la-star"></i></span>
                  <span><i class="las la-star"></i></span>
                  <span><i class="las la-star"></i></span>
                </div>
                <p class="rating_count">50 Reviews</p>
              -->
              </div>
            </div>
            <div class="product_other_info">
              <p>
                <span>Estado:</span
                ><span [style.color]="product?.state?.toString() === '2' ? 'green' : '#dc3545'">{{ states[product?.state!] }}</span>
              </p>
              <p><span>Categoria:</span>{{ product?.category }}</p>
              <p><span>Fecha de Finalización:</span>{{ product?.end_date }}</p>
            </div>
            <div class="price mt-3 mb-3 d-flex align-items-center">
              @if (product?.current_bid != product?.base_price) {
              <span class="prev_price ms-0">{{ product?.base_price }} Bs</span>
              }
              <span class="org_price ms-2">{{ product?.current_bid }} Bs</span>
              <div class="disc_tag ms-3">
                @if (product) {
                <app-countdown-timer
                  [textColor]="'text-light'"
                  [endDate]="product.end_date"
                  [state]="product.state.toString()"
                ></app-countdown-timer>
                }
              </div>
            </div>
            <div class="product_other_info">
              <p><span>Observación:</span></p>
            </div>
            <div class="pd_dtails">
              <p>
                {{ product?.observation }}
              </p>
            </div>
            <!--
                        <div class="shop_filter border-bottom-0 pb-0">
                            <div class="size_selector mb-3">
                                <h5>Size</h5>
                                <div class="d-flex align-items-center">
                                    <div class="single_size_opt">
                                        <input type="radio" hidden name="size" class="size_inp" id="size-xs">
                                        <label for="size-xs">XS</label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="size" class="size_inp" id="size-s">
                                        <label for="size-s">S</label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="size" class="size_inp" id="size-m" checked>
                                        <label for="size-m">M</label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="size" class="size_inp" id="size-l">
                                        <label for="size-l">L</label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="size" class="size_inp" id="size-xl">
                                        <label for="size-xl">XL</label>
                                    </div>
                                </div>
                            </div>
                            <div class="size_selector color_selector">
                                <h5>Color:</h5>
                                <div class="d-flex align-items-center">
                                    <div class="single_size_opt">
                                        <input type="radio" hidden name="color" class="size_inp" id="color-purple">
                                        <label for="color-purple" class="bg-color" data-bs-toggle="tooltip"
                                            title="Rose Red"></label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="color" class="size_inp" id="color-red">
                                        <label for="color-red" class="bg-white" data-bs-toggle="tooltip"
                                            title="White"></label>
                                    </div>
                                    <div class="single_size_opt ms-2">
                                        <input type="radio" hidden name="color" class="size_inp" id="color-green"
                                            checked>
                                        <label for="color-green" class="bg-dark" data-bs-toggle="tooltip"
                                            title="Black"></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        -->
            <div class="cart_qnty ms-md-auto">
              <div class="product_other_info">
                <p><span> Ingresar Puja: </span></p>
              </div>
              <div class="d-flex align-items-center">
                <form [formGroup]="offerForm">
                  <div class="col-12">
                    <div class="single_billing_inp">
                      <input
                        type="number"
                        formControlName="proposer_offer"
                        placeholder="Min. {{ minimum_bid }} Bs"
                      />
                      <!-- Mostrar mensaje de error si el campo es inválido y se ha tocado -->
                      <div
                        *ngIf="
                          offerForm.get('proposer_offer')?.invalid &&
                          (offerForm.get('proposer_offer')?.dirty ||
                            offerForm.get('proposer_offer')?.touched)
                        "
                      >
                        <div
                          *ngIf="offerForm.get('proposer_offer')?.errors?.['required']"
                          class="error text-danger"
                        >
                          Ingrese un valor numérico
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
                <!--
                                <div class="cart_qnty_btn">
                                    <i class="las la-minus"></i>
                                </div>
                                <div class="cart_count">4</div>
                                <div class="cart_qnty_btn">
                                    <i class="las la-plus"></i>
                                </div>
                                -->
              </div>
            </div>
          </div>
          <div class="product_buttons">
            <button
              (click)="sendOffer()"
              class="default_btn small rounded me-sm-3 me-2 px-4"
            >
              <i class="fa fa-gavel"></i> Enviar Puja
            </button>
            <!--
                        <a href="#" class="default_btn small rounded second border-none"><i class="icon-heart me-2"></i>
                            Wishlist</a>
                            -->
          </div>
          <div class="share_icons footer_icon d-flex">
            <a href="#"><i class="lab la-facebook-f"></i></a>
            <a href="#"><i class="lab la-twitter"></i></a>
            <a href="#"><i class="lab la-instagram"></i></a>
          </div>
        </div>
      </div>
    </div>
    <div class="product_view_tabs mt-4">
      <div class="pv_tab_buttons" class="spec_text">
        <div class="pbt_single_btn active" data-target=".info">
          Información del Producto
        </div>
        <div class="pbt_single_btn" data-target=".qna">
          Top 10 Pujas - Proponentes
        </div>
        <div class="pbt_single_btn" data-target=".review">Otros...</div>
      </div>
      <div class="pb_tab_content info active">
        <div class="row">
          <div class="col-lg-8">
            <div class="pbt_info_text">
              <div class="product_other_info">
                <div class="shop_filter">
                  <h4 class="filter_title">Observación:</h4>
                </div>
              </div>
              <p>
                {{ product?.observation }}
              </p>
            </div>
            <div class="product_other_info">
              @if (product) {
              <app-attributes [product]="product"></app-attributes>
              }
            </div>
            <!--
            <div class="pbt_info_table">
              @for (attribute of attributes; track $index) {
              <div class="pbtit_single">
                <p class="specs">{{ attribute.name }}</p>
                <p class="spec_text">{{ attribute.value }}</p>
              </div>
              }
            </div>
            -->
          </div>
        </div>
      </div>
      <div class="pb_tab_content qna">
        <div class="product_other_info">
          @if (product) {
          <app-offers [product]="product"></app-offers>
          }
        </div>
        <!--
        <h4>Question about this product (3)</h4>
        <div class="pbqna_wrp">
          <div class="single_pbqna">
            <div class="pbqna_icon">
              <i class="icon-user-line"></i>
            </div>
            <div class="pbqna_content">
              <h5>Any discount?</h5>
              <p>Dr.SaifuzZ. - 27 Oct 2021</p>
            </div>
          </div>
          <div class="single_pbqna">
            <div class="pbqna_icon">
              <i class="las la-headset"></i>
            </div>
            <div class="pbqna_content">
              <h5>There is no discount sir</h5>
              <p>Store Admin - 27 Oct 2021</p>
            </div>
          </div>
        </div>
        <div class="pbqna_wrp">
          <div class="single_pbqna">
            <div class="pbqna_icon">
              <i class="icon-user-line"></i>
            </div>
            <div class="pbqna_content">
              <h5>Any discount?</h5>
              <p>Dr.SaifuzZ. - 27 Oct 2021</p>
            </div>
          </div>
          <div class="single_pbqna">
            <div class="pbqna_icon">
              <i class="las la-headset"></i>
            </div>
            <div class="pbqna_content">
              <h5>There is no discount sir</h5>
              <p>Store Admin - 27 Oct 2021</p>
            </div>
          </div>
        </div>
        <div class="pbqna_form">
          <form action="#">
            <textarea placeholder="Type your question"></textarea>
            <button class="default_btn rounded">Ask Question</button>
          </form>
        </div>
        -->
      </div>
      <div class="pb_tab_content review">
        <!--
        <div class="review_rating">
          <div class="total_rating">
            <div class="trating_number">
              <span class="avrage">4.9</span>
              <span class="from">/5</span>
            </div>
            <div class="rating_star">
              <span><i class="las la-star"></i></span>
              <span><i class="las la-star"></i></span>
              <span><i class="las la-star"></i></span>
              <span><i class="las la-star"></i></span>
              <span><i class="las la-star"></i></span>
            </div>
            <div class="trating_count">20 Ratings</div>
          </div>
          <div class="overall_rating">
            <div class="single_ovrating d-flex align-items-center">
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
              </div>
              <div class="rating_pbox"><span style="width: 70%"></span></div>
              <p class="rating_count">18</p>
            </div>
            <div class="single_ovrating d-flex align-items-center">
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="lar la-star"></i></span>
              </div>
              <div class="rating_pbox"><span style="width: 20%"></span></div>
              <p class="rating_count">2</p>
            </div>
            <div class="single_ovrating d-flex align-items-center">
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
              </div>
              <div class="rating_pbox"><span style="width: 0%"></span></div>
              <p class="rating_count">0</p>
            </div>
            <div class="single_ovrating d-flex align-items-center">
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
              </div>
              <div class="rating_pbox"><span style="width: 0%"></span></div>
              <p class="rating_count">0</p>
            </div>
            <div class="single_ovrating d-flex align-items-center">
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
                <span><i class="lar la-star"></i></span>
              </div>
              <div class="rating_pbox"><span style="width: 0%"></span></div>
              <p class="rating_count">0</p>
            </div>
          </div>
        </div>
        <div
          class="review_header d-flex align-items-center justify-content-between"
        >
          <p class="m-0 text-semibold">Product Reviews</p>
          <div class="review_filters">
            <select class="nice_select">
              <option value="">Sort by</option>
              <option value="">Price low-high</option>
              <option value="">Price high-low</option>
            </select>
          </div>
        </div>
        <div class="review_cont_wrap">
          <div class="single_review_wrp">
            <div class="review_avatar">
              <img loading="lazy" src="assets/images/avatar.png" alt="user" />
            </div>
            <div class="review_content">
              <h5>by Sadat A.</h5>
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
              </div>
              <div class="review_date">30 Jul 2021</div>
              <div class="review_body">
                <p>
                  Lorem Ipsumin gravida nibh vel velit auctor aliquet. Aenean
                  sollicitudin, lorem quis bibendum auctor, nisi elit consequat
                  ipsum, nec sagittis sem nibh id elit. Duis sed odio sit amet
                  nibh vulputate
                </p>
                <div class="review_imgs">
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="single_review_wrp border-bottom-0 mb-0 pb-0">
            <div class="review_avatar">
              <img loading="lazy" src="assets/images/avatar.png" alt="user" />
            </div>
            <div class="review_content">
              <h5>by Sadat A.</h5>
              <div class="rating_star">
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="las la-star"></i></span>
                <span><i class="lar la-star"></i></span>
              </div>
              <div class="review_date">30 Jul 2021</div>
              <div class="review_body">
                <p>
                  Lorem Ipsumin gravida nibh vel velit auctor aliquet. Aenean
                  sollicitudin, lorem quis bibendum auctor, nisi elit consequat
                  ipsum, nec sagittis sem nibh id elit. Duis sed odio sit amet
                  nibh vulputate
                </p>
                <div class="review_imgs">
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                  <img
                    loading="lazy"
                    src="assets/images/product.png"
                    alt="review"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
        -->
      </div>
    </div>
  </div>
</div>
